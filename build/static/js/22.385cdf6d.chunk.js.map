{"version":3,"sources":["views/LocationLive/LocationLiveItem.js","views/Common/Chart/LineChart.js","views/LocationLive/LocationLive.js"],"names":["LocationLiveItem","nextProps","nextState","nextContext","this","props","item","vals","Object","values","map","val","idx","react_default","a","createElement","key","className","toString","replace","Component","LineChart","_this$props$item","keys","console","log","config","title","subtitle","xAxis","categories","yAxis","legend","layout","align","verticalAlign","plotOptions","line","dataLabels","enabled","series","responsive","rules","condition","maxWidth","chartOptions","Fragment","ReactHighcharts_default","defaultProps","id","name","data","LocationLive","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","banks","items","label","total","getBanksLocation","axios","get","api","then","res","setState","catch","err","finally","handleChartDisplay","areaChart","$","display","css","banks.live","isNotEmpty","length","banksItem","contentHead","onClick","style","width","chart","flexFlow","paddingRight","boxSizing","marginBottom","marginTop","Chart_LineChart","entries","bank","LocationLive_LocationLiveItem","contentItems","i"],"mappings":"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","file":"static/js/22.385cdf6d.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\n\r\nclass LocationLiveItem extends Component {\r\n\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        return nextProps !== this.props;\r\n    }\r\n\r\n    render() {\r\n        const { item } = this.props; //console.log(item);\r\n        const vals = Object.values(item[1]).map((val, idx) => (\r\n            <td key={idx} className=\"text-right\">{ val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") }</td>\r\n        ));\r\n        return (\r\n            <tr>\r\n                <td className=\"text-center\">{item[0]}</td>\r\n                {vals}\r\n            </tr>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LocationLiveItem;","import React, { Component } from 'react';\r\nimport ReactHighcharts from 'react-highcharts';\r\n\r\nclass LineChart extends Component {\r\n    static defaultProps = {\r\n        id: 0,\r\n        item: {\r\n            keys: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n            values: [{\r\n                name: 'Installation',\r\n                data: [43934, 52503, 57177, 69658, 97031, 119931, 137133, 154175]\r\n            }, {\r\n                name: 'Manufacturing',\r\n                data: [24916, 24064, 29742, 29851, 32490, 30282, 38121, 40434]\r\n            }, {\r\n                name: 'Sales & Distribution',\r\n                data: [11744, 17722, 16005, 19771, 20185, 24377, 32147, 39387]\r\n            }, {\r\n                name: 'Project Development',\r\n                data: [null, null, 7988, 12169, 15112, 22452, 34400, 34227]\r\n            }, {\r\n                name: 'Other',\r\n                data: [12908, 5948, 8105, 11248, 8989, 11816, 18274, 18111]\r\n            }],\r\n        },\r\n    };\r\n    render() {\r\n        const { keys, values } = this.props.item;\r\n        console.log(values)\r\n        const config = {\r\n            title: false,\r\n        \r\n            subtitle: false,\r\n\r\n            xAxis: {\r\n                categories: keys\r\n            },\r\n            \r\n            yAxis: {\r\n                title: false\r\n            },\r\n            legend: {\r\n                layout: 'vertical',\r\n                align: 'right',\r\n                verticalAlign: 'middle'\r\n            },\r\n        \r\n            plotOptions: {\r\n                line: {\r\n                    dataLabels: {\r\n                        enabled: true\r\n                    },\r\n                    //enableMouseTracking: false\r\n                }\r\n            },\r\n        \r\n            series: values,\r\n        \r\n            responsive: {\r\n                rules: [{\r\n                    condition: {\r\n                        maxWidth: 500\r\n                    },\r\n                    chartOptions: {\r\n                        legend: {\r\n                            layout: 'horizontal',\r\n                            align: 'center',\r\n                            verticalAlign: 'bottom'\r\n                        }\r\n                    }\r\n                }]\r\n            }\r\n        };\r\n        return (\r\n            <>\r\n                <ReactHighcharts config = {config}></ReactHighcharts>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LineChart;","import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport LocationLiveItem from './LocationLiveItem';\r\nimport $ from 'jquery'\r\nimport LineChart from '../Common/Chart/LineChart';\r\nclass LocationLive extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.api = {\r\n            'banks.live': 'http://pinfin-dev.koreasouth.cloudapp.azure.com/api/banks/location/lives'\r\n        };\r\n    }\r\n\r\n    state = {\r\n        banks: {\r\n            items:[],\r\n            label:[],\r\n            total:[]\r\n        }\r\n    };\r\n\r\n\r\n    getBanksLocation = () => {\r\n        axios.get(this.api[\"banks.live\"], {\r\n        }).then(res => { console.log(res.data.data);\r\n            this.setState({ banks: res.data.data });\r\n        }).catch(err => { console.log(err)\r\n        }).finally(() => { /* console.log(this.state) */ });\r\n    };\r\n\r\n    handleChartDisplay = () => {\r\n        let areaChart = $('#area_chart');\r\n        const display = (areaChart.css('display') === 'none') ? 'flex' : 'none';\r\n        areaChart.css('display', display);\r\n    };\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.getBanksLocation();\r\n\r\n    };\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        return nextState !== this.state;\r\n    }\r\n\r\n    render() {\r\n        const { banks } = this.state;\r\n        const isNotEmpty = (Object.keys(banks.label).length > 0); console.log(isNotEmpty);\r\n        //if(!isNotEmpty) return(<Fragment></Fragment>);\r\n        const banksItem = [\r\n            {\r\n                name: Object.keys(banks.items),\r\n                data: banks.total\r\n            }\r\n        ]\r\n        const contentHead = (\r\n            <div className=\"card-header\">\r\n                <div className=\"float-left mt-2\"><i className=\"fa fa-building\"> </i> 위치기반 라이브 </div>\r\n                <div className=\"float-right\">\r\n                    <button onClick={this.handleChartDisplay} className=\"btn btn-outline-primary\" style={{ width: '120px' }}>그래프 보기</button>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n        const chart = (isNotEmpty) && (\r\n            <div id=\"area_chart\" style={{'width':'100%', 'display':'none','flexFlow':'row','paddingRight':'2%','boxSizing':'border-box', 'marginBottom': '2%', 'marginTop': '40px', }}>\r\n                <LineChart item={{\r\n                    keys: Object.keys(banks.label).map(key => banks.label[key]),\r\n                    values: banksItem\r\n                }} />\r\n            </div>\r\n        );\r\n\r\n        const items = (isNotEmpty) && (Object.entries(banks.items).map((bank, idx) => {\r\n            return <LocationLiveItem key={idx} item={bank} />\r\n        }));\r\n        const contentItems = (isNotEmpty) && (\r\n            <table className=\"table table-responsive-sm table-hover table-outline mb-0 table-bordered\">\r\n                <thead className=\"thead-light\">\r\n                <tr>\r\n                    <th className=\"text-center\">구분</th>\r\n                    { banks.label.map((val,i) => (<th key={ i } className=\"text-center\">{ val }</th>)) }\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {items}\r\n                </tbody>\r\n            </table>\r\n        );\r\n        return (\r\n            <div className=\"animated fadeIn\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-12\">\r\n                            <div className=\"card\">\r\n                                {contentHead}\r\n                                <div className=\"card-body\">\r\n                                    {chart}\r\n                                    <hr />\r\n                                    {contentItems}\r\n                                    <hr />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n        );\r\n    }\r\n}\r\nexport default LocationLive;"],"sourceRoot":""}